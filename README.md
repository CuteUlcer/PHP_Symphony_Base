**Обучающее тестовое задание на PHP + Symfony**

**Тема:** "Управление задачами (To-Do List)"

Это задание разбито на 3 уровня сложности, чтобы постепенно проверить навыки работы с PHP, Symfony и продвинутыми концепциями.

**1\. Основы PHP + Symfony**

**Задача:** Создать простой CRUD (Create, Read, Update, Delete) для задач.

**Требования:**

1. Установить Symfony (можно использовать symfony new todo-project).
2. Создать сущность Task с полями:
    - id (автоинкремент)
    - title (строка, название задачи)
    - description (текст, описание)
    - created_at (дата создания)
3. Реализовать:
    - Страницу со списком всех задач (/tasks).
    - Форму добавления новой задачи (/tasks/new).
    - Возможность редактирования (/tasks/{id}/edit).
    - Удаление задачи (/tasks/{id}/delete).

**Проверяемые навыки:**

- Работа с Doctrine ORM.
- Базовые маршруты в Symfony (@Route).
- Шаблонизация (Twig).
- Работа с формами (Symfony Forms).

**2\. Часто используемые методы (промежуточный уровень)**

**Задача:** Добавить фильтрацию, пагинацию и статусы задач.

**Требования:**

1. Добавить в Task новое поле:
    - status (enum: new, in_progress, done).
2. Реализовать:
    - Фильтрацию задач по статусу (выпадающий список + GET-запрос).
    - Пагинацию (по 5 задач на страницу, использовать Pagerfanta или Knplabs/knp-paginator-bundle).
    - Поиск по названию (LIKE %query%).
3. Добавить мягкое удаление (Soft Delete):
    - Поле deleted_at (nullable).
    - Задачи не удаляются из БД, но скрываются из списка.

**Проверяемые навыки:**

- Работа с QueryBuilder.
- Пагинация и фильтрация.
- Мягкое удаление (логическое, не физическое).
- Расширенные возможности Doctrine.

**3\. Продвинутый уровень (сложные концепции)**

**Задача:** Реализовать API, фоновые задачи и кэширование.

**Требования:**

1. **REST API для задач** (используя api-platform или ручные JSON-эндпоинты):
    - GET /api/tasks – список задач (с фильтрами).
    - POST /api/tasks – создание задачи.
    - PATCH /api/tasks/{id}/status – изменение статуса.
2. **Фоновая обработка** (Symfony Messenger + очередь):
    - При изменении статуса на done отправлять задачу в очередь и писать в лог: "Task {id} completed at {time}".
3. **Кэширование** (Symfony Cache):
    - Кэшировать список задач на 30 секунд (при изменении данных инвалидировать кэш).

**Проверяемые навыки:**

- Работа с API (сериализация, DTO).
- Асинхронные задачи (Messenger, RabbitMQ/Doctrine Transport).
- Кэширование (Redis, Filesystem).
- Оптимизация запросов.

**Критерии оценки:**

 **1 уровень** – Рабочий CRUD.  
 **2 уровень** – Фильтры + пагинация + мягкое удаление.  
 **3 уровень** – API + фоновая очередь + кэширование.
